<div class="d-flex justify-content-center align-items-center" style="min-height: 80vh; position: relative;">
	<div class="card shadow-lg position-relative" style="max-width: 430px; width: 100%; border-radius: 16px; margin: 0 auto;">
		<div class="card-header bg-primary text-white text-center" style="border-radius: 16px 16px 0 0;">
			<h5 class="mb-0">Editar datos de tu Empresa</h5>
		</div>
		<div class="card-body" style="padding: 18px; background-image: linear-gradient(to top, #ffffff, #fafafd, #f4f6fc, #edf3fb, #e5eff9); border-radius: 0 0 16px 16px;">
			<p style="text-align: center; font-size: 12px;">Podés editar estos datos las veces que quieras.</p>
			<form (ngSubmit)="actualizarEmpresa()" class="empresa-form">
				<div class="form-group mb-3">
					<label for="name">Tu Empresa</label>
					<input type="text" class="form-control" id="name" name="name" [(ngModel)]="empresa.name" placeholder="¿Cómo se llama?" required />
				</div>
				<div class="form-group mb-3">
					<label for="phone">Teléfono:</label>
					<input type="text" class="form-control" id="phone" name="phone" [(ngModel)]="empresa.phone" placeholder="Teléfono de tu empresa" required />
				</div>
				<div class="form-group mb-3">
					<label for="email">Email:</label>
					<input type="email" class="form-control" id="email" name="email" [(ngModel)]="empresa.email" placeholder="Email de tu empresa" required />
				</div>
				<div class="form-group mb-3">
					<label for="description">Descripción de tu empresa:</label>
					<textarea class="form-control" id="description" name="description" [(ngModel)]="empresa.description" rows="3" placeholder="Cuenta a tus clientes de qué se trata tu empresa"></textarea>
				</div>
				<div class="form-group mb-3 text-center">
					<label for="logo">Logo de la empresa</label>
					<div *ngIf="imagePreview" class="mb-2">
						<img [src]="imagePreview" alt="Logo Empresa" style="max-width:120px;max-height:120px;display:block;margin:0 auto 8px auto;border-radius:8px;box-shadow:0 2px 8px #0002;">
					</div>
					<input type="file" id="logo" (change)="onFileChange($event)" accept="image/*" class="form-control mb-2" />
					<button type="button" class="btn btn-primary w-100" (click)="subirImagen()" [disabled]="!selectedFile || loading">Subir imagen</button>
				</div>
						<div class="d-flex justify-content-between mt-4">
							<button type="button" class="btn btn-secondary" (click)="router.navigate(['/dashboard'])">Cancelar</button>
							<button type="submit" class="btn btn-primary" [disabled]="loading">Guardar cambios</button>
						</div>

			</form>
					<div *ngIf="loading" class="loading-overlay position-absolute top-0 start-0 w-100 h-100 d-flex flex-column justify-content-center align-items-center" style="background:rgba(255,255,255,0.7); border-radius:16px; z-index:10;">
						<span class="spinner-border text-primary" style="width: 3rem; height: 3rem;"></span>
						<span class="mt-2">Procesando...</span>
			</div>
		</div>
	</div>
</div>
